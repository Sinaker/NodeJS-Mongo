<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/auth.css">
    </head>

    <body>
        <%- include('../includes/navigation.ejs') %>

            <main>
                <% if(errorMsg.length> 0) { %>
                    <div style="display: flex" class="user-message user-message__success">

                        <span style="flex-shrink: 0.5;" class="icon"><i class="fa-solid fa-circle-exclamation"></i></
                                span>
                            <b>
                                <%= (errorMsg) ? errorMsg : '' %>
                            </b>

                            <span onClick="this.parentElement.classList.add('fade-out');
                        
                                        setTimeout(300, () => {
                                            this.parentElement.remove();
                                        })
                                        ">
                                <i style="margin-right: 0.5rem; cursor: pointer;" class="fa-solid fa-xmark"></i>
                            </span>
                    </div>
                    <% } %>
                        <form class="login-form" action="/setpassword/" method="POST">
                            <div class="form-control">
                                <label for="password">Enter new Password</label>
                                <input type="password" name="password" id="password">
                                <input type="hidden" name="resetToken" value="<%= resetToken %>">
                                <input type="hidden" name="userID" value="<%= userID %>">
                            </div>

                            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                            <button class="btn" type="submit">Set Password</button>
                        </form>
            </main>
            <%- include('../includes/end.ejs') %>